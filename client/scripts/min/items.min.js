function getItems(){inventory="<table>",console.log("in getItems()");var e=new XMLHttpRequest,t="items/";e.open("GET",t,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText);for(o in t)makeInventory(t[o].item_name,t[o].url,t[o].item_id);return document.getElementById("parsedinventory").innerHTML=inventory+"</table>",document.getElementById("jsoncell").innerHTML=e.responseText,e.responseText}},e.send()}function addItem(){console.log("inaddItem()");var e="",t=new XMLHttpRequest,n="items/",a=document.getElementById("addname").value,d=document.getElementById("adddescription").value,s=document.getElementById("addprice").value,i=document.getElementById("addquantity").value,l="name="+a+"&description="+d+"&quantity="+i+"&price="+s;console.log("vars: "+l),t.open("POST",n,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var n=JSON.parse(t.responseText);for(o in n)e+=n[o].item_id+": <a href='http://"+n[o].url+"'>http://"+n[o].url+"</a>";document.getElementById("jsoncell").innerHTML=e+" "+t.responseText}},t.send(l),document.getElementById("addstatus").innerHTML=""}function makeUpdate(e){document.getElementById("update").style.display="table-row",console.log("in makeUpdate, id = "+e);var t=new XMLHttpRequest,n="items/"+e;t.open("GET",n,!0),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){console.log("response text:"+t.responseText);var e=JSON.parse(t.responseText);for(o in e)document.getElementById("itemid").value=e[o].item_id,document.getElementById("name").value=e[o].item_name}},t.send()}function makeInventory(e,t,n){inventory+="<tr><td>"+e+":</td><td> <a href='http://"+t+"'>http://"+t+"</a><br><a href='#' onclick='deleteItem("+n+");return false;'>Delete</a>&nbsp;<a href='#' onClick='makeUpdate("+n+");'>Update</a></td></tr>",console.log(inventory)}function updateItem(){console.log("inupdateItem"),console.log("still in updateItem");var e=new XMLHttpRequest,t="items/",n=document.getElementById("itemid").value;console.log("itemid"+n);var o=document.getElementById("name").value,a=document.getElementById("description").value,d=document.getElementById("price").value,s=document.getElementById("quantity").value,i="itemid="+n+"&name="+o+"&description="+a+"&quantity="+s+"&price="+d;e.open("PUT",t,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=e.responseText+"";document.getElementById("status").innerHTML=t}},e.send(i),document.getElementById("status").innerHTML="waiting ..."}function deleteItem(e){console.log("in deleteItem");var t=new XMLHttpRequest,n="items/",o="del_itemid="+e;t.open("DELETE",n,!1),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=t.responseText+"";document.getElementById("jsoncell").innerHTML=e}},t.send(o)}function showCreate(e){document.getElementById("additem").style.display="block",document.getElementById("showcase").style.display="none","none"==e&&(document.getElementById("additem").style.display="none")}var inventory="<table class=table>";